# MMI スコアリング閾値テーブル

Dr. Carola Lilienthal の MMI 計算方法に基づく、各基準の詳細なスコアリング閾値。

## 計算方法

1. 各基準の測定値を下記の閾値テーブルで 0〜10 に変換
2. サブカテゴリ内のスコアを平均
3. サブカテゴリの平均にカテゴリ内重みを掛けてカテゴリスコアを算出
4. カテゴリスコアに重み（45%, 30%, 25%）を掛けて合算 → 最終MMI

```
MMI = (Modularity_score × 0.45) + (Hierarchy_score × 0.30) + (Pattern_score × 0.25)
```

## 1. Modularity（モジュール性）— 45%

### 1.1 ドメイン・技術的モジュール化 (25%)

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 1.1.1 ドメインモジュール割当率 | ≤54% | >54% | >58% | >62% | >66% | >70% | >74% | >78% | >82% | >86% | >90% |
| 1.1.2 技術レイヤー割当率 | ≤75% | >75% | >77.5% | >80% | >82.5% | >85% | >87.5% | >90% | >92.5% | >95% | >97.5% |
| 1.1.3 ドメインモジュールサイズ比 | ≥7.5 | <7.5 | <5 | <3.5 | <2.5 | <2 | <1.5 | <1.1 | <0.85 | <0.65 | <0.5 |
| 1.1.4 技術レイヤーサイズ比 | ≥16.5 | <16.5 | <11 | <7.5 | <5 | <3.5 | <2.5 | <2 | <1.5 | <1.1 | <0.85 |
| 1.1.5 責務の明確さ | No=0 | | | | | partial=5 | | | | | Yes=10 |
| 1.1.6 マッピングの適切さ | No=0 | | | | | partial=5 | | | | | Yes=10 |

### 1.2 内部インターフェース (10%)

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 1.2.1 インターフェース違反率 | ≥6.5% | <6.5% | <4% | <2.5% | <1.5% | <1% | <0.65% | <0.4% | <0.25% | <0.15% | <0.1% |
| 1.2.2 インターフェースマッピング | No=0 | | | | | partial=5 | | | | | Yes=10 |

### 1.3 プロポーション (10%)

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 1.3.1 大クラスのコード率 | ≥23% | <23% | <18% | <13.5% | <10.5% | <8% | <6% | <4.75% | <3.5% | <2.75% | <2% |
| 1.3.2 大メソッドのコード率 | ≥23% | <23% | <18% | <13.5% | <10.5% | <8% | <6% | <4.75% | <3.5% | <2.75% | <2% |
| 1.3.3 大パッケージのクラス率 | ≥23% | <23% | <18% | <13.5% | <10.5% | <8% | <6% | <4.75% | <3.5% | <2.75% | <2% |
| 1.3.4 高複雑度メソッド率 | ≥3.6% | <3.6% | <2.6% | <1.9% | <1.4% | <1% | <0.75% | <0.5% | <0.4% | <0.3% | <0.2% |

## 2. Hierarchy（階層性）— 30%

### 2.1 技術・ドメインレイヤリング (15%)

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 2.1.1 技術レイヤー違反率 | ≥6.5% | <6.5% | <4% | <2.5% | <1.5% | <1% | <0.65% | <0.4% | <0.25% | <0.15% | <0.1% |
| 2.1.2 ドメインレイヤー違反率 | ≥14% | <14% | <9.6% | <6.5% | <4.5% | <3.2% | <2.25% | <1.5% | <1.1% | <0.75% | <0.5% |

### 2.2 クラス・パッケージ循環 (15%)

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 2.2.1 循環クラス率 | ≥25% | <25% | <22.5% | <20% | <17.5% | <15% | <12.5% | <10% | <7.5% | <5% | <2.5% |
| 2.2.2 循環パッケージ率 | ≥50% | <50% | <45% | <40% | <35% | <30% | <25% | <20% | <15% | <10% | <5% |
| 2.2.3 循環あたりクラス数 | ≥106 | <106 | <82 | <62 | <48 | <37 | <29 | <22 | <17 | <13 | <10 |
| 2.2.4 循環あたりパッケージ数 | ≥37 | <37 | <30 | <24 | <19 | <15 | <12 | <10 | <8 | <6 | <5 |

## 3. Pattern Consistency（パターン一貫性）— 25%

| 基準 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |
|------|---|---|---|---|---|---|---|---|---|---|---|
| 3.1 パターン割当率 | ≤54.5% | >54.5% | >59% | >63.5% | >68% | >72.5% | >77% | >81.5% | >86% | >90.5% | >95% |
| 3.2 パターン間循環違反率 | ≥7.5% | <7.5% | <5% | <3.5% | <2.5% | <2% | <1.5% | <1.1% | <0.85% | <0.65% | <0.5% |
| 3.3 パターン明示的マッピング | No=0 | | | | | partial=5 | | | | | Yes=10 |
| 3.4 ドメイン/技術コード分離 | No=0 | | | | | partial=5 | | | | | Yes=10 |
